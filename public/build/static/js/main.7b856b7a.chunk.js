(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{261:function(e,a,t){e.exports=t(431)},266:function(e,a,t){},267:function(e,a,t){},352:function(e,a,t){},426:function(e,a,t){},430:function(e,a,t){},431:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(62),o=t.n(r),i=t(442),m=t(249),s=t(55),u={id:"",path:"/"},c=t(39),d=Object(c.a)(),g=t(48),h=t(49),p=t(52),f=t(50),y=t(51),E=(t(266),function(e){function a(){return Object(g.a)(this,a),Object(p.a)(this,Object(f.a)(a).apply(this,arguments))}return Object(y.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"app"},l.a.createElement("header",{className:"app-header"}),l.a.createElement("main",null,this.props.children))}}]),a}(l.a.PureComponent)),C=t(444),b=(t(267),function(e){function a(){return Object(g.a)(this,a),Object(p.a)(this,Object(f.a)(a).apply(this,arguments))}return Object(y.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"not-found-page"},l.a.createElement(C.a,{as:"h1"},"Page not found"))}}]),a}(l.a.PureComponent)),O=t(119),v=t(125),N=t(27),j=t(167),w=t(439),k=t(437),S=t(440),M=t(441),B=t(66),L=t(127),$=t(438),q=(t(352),function(e){function a(e){var t;return Object(g.a)(this,a),(t=Object(p.a)(this,Object(f.a)(a).call(this,e))).handleChangeDropdown=t.handleChangeDropdown.bind(Object(N.a)(t)),t}return Object(y.a)(a,e),Object(h.a)(a,[{key:"handleChangeDropdown",value:function(e,a){this.props.onChangeForm({target:{name:"languages",value:a.value}})}},{key:"render",value:function(){var e=this.props,a=e.showModal,t=e.onCloseModal,n=e.onChangeForm,r=e.onSubmitForm,o=e.headerText,i=e.loading,m=e.error,s=e.employee,u=s.firstName,c=s.lastName,d=s.dateOfBirth,g=s.primaryLanguage,h=s.languagesOptions,p=h.map(function(e){return{text:e,value:e}});return l.a.createElement(L.a,{className:"employee-modal",open:a,onClose:t},l.a.createElement(k.a,{active:i}),l.a.createElement(L.a.Header,null,o),l.a.createElement("div",{className:"employee-modal-container"},l.a.createElement("form",{onSubmit:r},l.a.createElement($.a,{name:"firstName",placeholder:"First name",label:"First name",defaultValue:u,onChange:n,fluid:!0}),l.a.createElement($.a,{name:"lastName",placeholder:"Last name",label:"Last name",defaultValue:c,onChange:n,fluid:!0}),l.a.createElement($.a,{name:"dateOfBirth",placeholder:"Date of birth",label:"Date of birth",defaultValue:d,onChange:n,fluid:!0}),l.a.createElement($.a,{name:"primaryLanguage",placeholder:"Primary language",label:"Primary language",defaultValue:g,onChange:n,fluid:!0}),l.a.createElement("div",{className:"ui fluid labeled input"},l.a.createElement("div",{className:"ui label label"},"Languages"),l.a.createElement(M.a,{className:"employee-modal-dropdown-languages",placeholder:"Languages",fluid:!0,multiple:!0,selection:!0,onChange:this.handleChangeDropdown,defaultValue:h,options:p})),l.a.createElement(j.a,{className:"employee-modal-apply",type:"submit",primary:!0},"Apply")),m&&l.a.createElement("p",null,m)))}}]),a}(l.a.PureComponent)),D=t(89),I=t(90);function F(){var e=Object(D.a)(["\n  mutation removeEmployee($id: String!) {\n    removeEmployee(id: $id) {\n      id\n      firstName\n      lastName\n      dateOfBirth\n      primaryLanguage\n      languages\n    }\n  }\n"]);return F=function(){return e},e}function H(){var e=Object(D.a)(["\n  mutation updateEmployee(\n    $id: String!\n    $firstName: String!\n    $lastName: String!\n    $dateOfBirth: String!\n    $primaryLanguage: String!\n    $languages: [String]!\n  ) {\n    updateEmployee(\n      id: $id\n      firstName: $firstName\n      lastName: $lastName\n      dateOfBirth: $dateOfBirth\n      primaryLanguage: $primaryLanguage\n      languages: $languages\n    ) {\n      id\n      firstName\n      lastName\n      dateOfBirth\n      primaryLanguage\n      languages\n    }\n  }\n"]);return H=function(){return e},e}function P(){var e=Object(D.a)(["\n  mutation createEmployee(\n    $firstName: String!\n    $lastName: String!\n    $dateOfBirth: String!\n    $primaryLanguage: String!\n    $languages: [String]!\n  ) {\n    createEmployee(\n      firstName: $firstName\n      lastName: $lastName\n      dateOfBirth: $dateOfBirth\n      primaryLanguage: $primaryLanguage\n      languages: $languages\n    ) {\n      id\n      firstName\n      lastName\n      dateOfBirth\n      primaryLanguage\n      languages\n    }\n  }\n"]);return P=function(){return e},e}function x(){var e=Object(D.a)(["\n  {\n    employees {\n      id\n      firstName\n      lastName\n      dateOfBirth\n      primaryLanguage\n      languages\n    }\n  }\n"]);return x=function(){return e},e}var R=Object(I.gql)(x()),V=Object(I.gql)(P()),G=Object(I.gql)(H()),Q=Object(I.gql)(F()),J=(t(426),function(e){function a(e){var t;return Object(g.a)(this,a),(t=Object(p.a)(this,Object(f.a)(a).call(this,e))).state={isCreateEmployee:!1,showModal:!1,showConfirmModal:!1,loading:!0,error:null,employee:{id:"",firstName:"",lastName:"",dateOfBirth:"",primaryLanguage:"",languages:["English","German"],languagesOptions:["English","German"]}},t.handleChange=t.handleChange.bind(Object(N.a)(t)),t.onClickCreateButton=t.onClickCreateButton.bind(Object(N.a)(t)),t.handleConfirmModal=t.handleConfirmModal.bind(Object(N.a)(t)),t.handleCreateEmployee=t.handleCreateEmployee.bind(Object(N.a)(t)),t.handleCloseModal=t.handleCloseModal.bind(Object(N.a)(t)),t.handleCloseConfirmModal=t.handleCloseConfirmModal.bind(Object(N.a)(t)),t.handleClickEditIcon=t.handleClickEditIcon.bind(Object(N.a)(t)),t.handleClickRemoveIcon=t.handleClickRemoveIcon.bind(Object(N.a)(t)),t.handleEditEmployee=t.handleEditEmployee.bind(Object(N.a)(t)),t}return Object(y.a)(a,e),Object(h.a)(a,[{key:"handleCloseModal",value:function(){this.setState({showModal:!1,isCreateEmployee:!1})}},{key:"handleCloseConfirmModal",value:function(){this.setState({showConfirmModal:!1})}},{key:"onClickCreateButton",value:function(){this.setState({showModal:!0,isCreateEmployee:!0})}},{key:"handleClickEditIcon",value:function(e){this.setState({showModal:!0,employee:Object(v.a)({},this.state.employee,e,{languagesOptions:e.languages})})}},{key:"handleClickRemoveIcon",value:function(e){this.setState({showConfirmModal:!0,employee:Object(v.a)({},this.state.employee,e,{languagesOptions:e.languages})})}},{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState({employee:Object(v.a)({},this.state.employee,Object(O.a)({},t,n))})}},{key:"handleConfirmModal",value:function(){var e=this,a=this.state.employee.id;this.setState({loading:!0}),this.props.removeEmployee({variables:{id:a},update:function(e){var t=e.readQuery({query:R}).employees;e.writeQuery({query:R,data:{employees:t.filter(function(e){return e.id!==a})}})}}).then(function(){e.setState({loading:!1,showConfirmModal:!1})}).catch(function(){e.setState({loading:!1,error:"Some error"})})}},{key:"handleCreateEmployee",value:function(e){var a=this,t=this.state.employee,n=t.firstName,l=t.lastName,r=t.dateOfBirth,o=t.primaryLanguage,i=t.languages;e.preventDefault(),this.setState({loading:!0}),this.props.createEmployee({variables:{firstName:n,lastName:l,dateOfBirth:r,primaryLanguage:o,languages:i},update:function(e,a){var t=a.data.createEmployee,n=e.readQuery({query:R}).employees;e.writeQuery({query:R,data:{employees:n.concat([t])}})}}).then(function(){a.setState({loading:!1,showModal:!1,isCreateEmployee:!1,employee:{id:"",firstName:"",lastName:"",dateOfBirth:"",primaryLanguage:"",languages:["English","German"],languagesOptions:["English","German"]}})}).catch(function(){a.setState({loading:!1,error:"Some error"})})}},{key:"handleEditEmployee",value:function(e){var a=this,t=this.state.employee,n=t.id,l=t.firstName,r=t.lastName,o=t.dateOfBirth,i=t.primaryLanguage,m=t.languages;e.preventDefault(),this.setState({loading:!0}),this.props.updateEmployee({variables:{id:n,firstName:l,lastName:r,dateOfBirth:o,primaryLanguage:i,languages:m}}).then(function(){a.setState({loading:!1,showModal:!1})}).catch(function(){a.setState({loading:!1,error:"Some error"})})}},{key:"render",value:function(){var e=this,a=this.state,t=a.employee,n=a.isCreateEmployee,r=a.showModal,o=a.showConfirmModal,i=a.loading,m=a.error;return l.a.createElement("div",{className:"employees-page"},l.a.createElement(j.a,{className:"employees-page-create-button",onClick:this.onClickCreateButton},"Create"),l.a.createElement(q,{showModal:r,headerText:"Edit employee",employee:t,loading:i,error:m,onChangeForm:this.handleChange,onSubmitForm:n?this.handleCreateEmployee:this.handleEditEmployee,onCloseModal:this.handleCloseModal}),l.a.createElement(w.a,{open:o,onCancel:this.handleCloseConfirmModal,onConfirm:this.handleConfirmModal}),l.a.createElement(s.b,{query:R},function(a){var t=a.loading,n=a.error,r=a.data;return t?l.a.createElement(k.a,{active:!0}):n?l.a.createElement("p",null,"Error :("):l.a.createElement(S.a,{celled:!0},l.a.createElement(S.a.Header,null,l.a.createElement(S.a.Row,null,l.a.createElement(S.a.HeaderCell,null,"First name"),l.a.createElement(S.a.HeaderCell,null,"Last name"),l.a.createElement(S.a.HeaderCell,null,"Date of birth"),l.a.createElement(S.a.HeaderCell,null,"Primary language"),l.a.createElement(S.a.HeaderCell,null,"Languages"),l.a.createElement(S.a.HeaderCell,null,"Settings"))),l.a.createElement(S.a.Body,null,r.employees.map(function(a){var t=a.languages.map(function(e){return{text:e,value:e}});return l.a.createElement(S.a.Row,{key:a.id},l.a.createElement(S.a.Cell,null,a.firstName),l.a.createElement(S.a.Cell,null,a.lastName),l.a.createElement(S.a.Cell,null,a.dateOfBirth),l.a.createElement(S.a.Cell,null,a.primaryLanguage),l.a.createElement(S.a.Cell,null,l.a.createElement(M.a,{className:"employees-page-dropdown-languages",placeholder:"Languages",fluid:!0,multiple:!0,selection:!0,disabled:!0,defaultValue:a.languages,options:t})),l.a.createElement(S.a.Cell,null,l.a.createElement(B.a,{onClick:function(){return e.handleClickEditIcon(a)},name:"edit"}),l.a.createElement(B.a,{onClick:function(){return e.handleClickRemoveIcon(a)},name:"remove"})))})))}))}}]),a}(l.a.Component)),T=Object(s.c)(Object(s.d)(G,{name:"updateEmployee"}),Object(s.d)(Q,{name:"removeEmployee"}),Object(s.d)(V,{name:"createEmployee"}))(J),W=function(){return l.a.createElement(E,null,l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:u.path,component:T}),l.a.createElement(i.a,{component:b})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(429),t(430);var A=new m.a({uri:"http://localhost:3001/graphql"});o.a.render(l.a.createElement(s.a,{client:A},l.a.createElement(i.b,{history:d},l.a.createElement(W,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[261,1,2]]]);
//# sourceMappingURL=main.7b856b7a.chunk.js.map